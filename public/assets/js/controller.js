/*jslint browser:true */
(function() {
  'use strict';

  angular
    .module('hashtag.controller', [])
    .controller('HashtagCtrl', HashtagCtrl);

  HashtagCtrl.$inject = ['$location', 'instagramAPI'];

  function HashtagCtrl ($location, instagramAPI) {
    //initialize view model
    var vm = this;
    vm.data = {};
    vm.data.meta = {};
    vm.hashtag = 'gbxoxo';
    vm.authLink = instagramAPI.getAuthLink();
    vm.hasAccessToken = instagramAPI.hasAccessToken();

    //button click handlers
    vm.getPictures = getPictures;
    vm.removePicture = removePicture;
    vm.saveCollage = saveCollage;
    vm.downloadAllImages = downloadAllImages;

    //init
    instagramAPI.setAuth();

    if ($location.$$path !== '/') {
      var accessToken = $location.$$path.slice(1);
      instagramAPI.setAuth(accessToken);
      vm.hasAccessToken = instagramAPI.hasAccessToken();
      $location.path('/');
    }

    /*
    vm.data = [ { "attribution": null, "tags": [ "gbxoxo", "latergram", "family", "wedding" ], "location": null, "comments": { "count": 3, "data": [ { "created_time": "1449191200", "text": "There's the rents!! Haha finally:)", "from": { "username": "lindawhoge", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11326132_743364559103198_160417566_a.jpg", "id": "341574717", "full_name": "Linda Hoge" }, "id": "17843470123116156" }, { "created_time": "1449195053", "text": "üòçüòÉüçæüéâ", "from": { "username": "bb_271271", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11374016_988085747880703_164290729_a.jpg", "id": "146153005", "full_name": "" }, "id": "17843470510116156" }, { "created_time": "1449251613", "text": "Diggin' your dad's neck tie! üçá", "from": { "username": "bhutch13", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12783410_467109736832537_2046059740_a.jpg", "id": "53212315", "full_name": "Brent Hutchison" }, "id": "17843476582116156" } ] }, "filter": "Normal", "created_time": "1449188257", "link": "https://www.instagram.com/p/-2XettwfAU/", "likes": { "count": 33, "data": [ { "username": "seanpdent", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/1391397_438590992974607_1130463030_a.jpg", "id": "1944047", "full_name": "Sean Dent" }, { "username": "meglby", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12353269_1112860822065420_327126184_a.jpg", "id": "8363209", "full_name": "meglby" }, { "username": "a_gannoe", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12825892_1736018496684760_95969596_a.jpg", "id": "211877239", "full_name": "Andrew Gannoe" }, { "username": "melissakubiak", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/11849243_1632694507020115_1754025730_a.jpg", "id": "15388853", "full_name": "melissakubiak" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12298821_1702927086593422_766115957_n.jpg?ig_cache_key=MTEzMjE5NTYyMjA3MDM4MjYxMg%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/12298821_1702927086593422_766115957_n.jpg?ig_cache_key=MTEzMjE5NTYyMjA3MDM4MjYxMg%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/12298821_1702927086593422_766115957_n.jpg?ig_cache_key=MTEzMjE5NTYyMjA3MDM4MjYxMg%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [], "caption": { "created_time": "1449188257", "text": "Photo booth fun! #GBXOXO #Family #latergram #wedding @bmc7224 @lydiahoge @tylerhoge @breannalynn007 @lindawhoge", "from": { "username": "bradhoge8", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12338920_961977970508286_362853333_a.jpg", "id": "322219219", "full_name": "Brad Hoge" }, "id": "17843470057116156" }, "type": "image", "id": "1132195622070382612_322219219", "user": { "username": "bradhoge8", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12338920_961977970508286_362853333_a.jpg", "id": "322219219", "full_name": "Brad Hoge" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": { "latitude": 40.45259, "name": "Children's Museum of Pittsburgh", "longitude": -80.00697, "id": 777982 }, "comments": { "count": 0, "data": [] }, "filter": "Normal", "created_time": "1447627813", "link": "https://www.instagram.com/p/-H3K21LWPp/", "likes": { "count": 30, "data": [ { "username": "racov", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/11909163_1650550701883031_1432712863_a.jpg", "id": "16556596", "full_name": "Veronica Raco" }, { "username": "zigmachine", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11850379_468910419948626_1046831051_a.jpg", "id": "47910398", "full_name": "zigmachine" }, { "username": "tshirtnick", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11906329_960233084022564_1448528159_a.jpg", "id": "25188481", "full_name": "tshirtnick" }, { "username": "juliastuart", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12965823_717513675058266_1316526390_a.jpg", "id": "24335842", "full_name": "Julia Stuart" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/11875471_165717467111789_119486992_n.jpg?ig_cache_key=MTExOTEwNTY3MTA1MTk2MTMyMQ%3D%3D.2.l", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/c0.117.937.937/11934861_1103473999671681_923605279_n.jpg?ig_cache_key=MTExOTEwNTY3MTA1MTk2MTMyMQ%3D%3D.2.c", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/11875471_165717467111789_119486992_n.jpg?ig_cache_key=MTExOTEwNTY3MTA1MTk2MTMyMQ%3D%3D.2.l", "width": 640, "height": 640 } }, "users_in_photo": [ { "position": { "y": 0.704, "x": 0.3299093333333333 }, "user": { "username": "rymorgan10", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12394071_459722077566397_863675427_a.jpg", "id": "26932903", "full_name": "Ryan Morgan" } }, { "position": { "y": 0.6800000071525574, "x": 0.6584347486495972 }, "user": { "username": "erauschk", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10598232_272838172915885_455687596_a.jpg", "id": "267241057", "full_name": "erauschk" } } ], "caption": { "created_time": "1447627813", "text": "Wedding bliss #gbxoxo", "from": { "username": "rymorgan10", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12394071_459722077566397_863675427_a.jpg", "id": "26932903", "full_name": "Ryan Morgan" }, "id": "17850644050062262" }, "type": "image", "id": "1119105671051961321_26932903", "user": { "username": "rymorgan10", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12394071_459722077566397_863675427_a.jpg", "id": "26932903", "full_name": "Ryan Morgan" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": null, "comments": { "count": 3, "data": [ { "created_time": "1447695842", "text": "Really cute!", "from": { "username": "djyeargers", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849920_859078527481349_1794192963_a.jpg", "id": "209531768", "full_name": "djyeargers" }, "id": "17847323689007322" }, { "created_time": "1447896701", "text": "Definitely!!", "from": { "username": "italiandish5", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11330637_1477151455938374_971177658_a.jpg", "id": "35527460", "full_name": "" }, "id": "17847725401007322" }, { "created_time": "1449688088", "text": "üö∂", "from": { "username": "mr_shao_", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/11906218_1218882394795665_612986859_a.jpg", "id": "1251960674", "full_name": "Êù®Ê¥ã üêëüêëüêë" }, "id": "17851988395007322" } ] }, "filter": "Ludwig", "created_time": "1447690938", "link": "https://www.instagram.com/p/-JvkhKpk58/", "likes": { "count": 24, "data": [ { "username": "kate_0708", "profile_picture": "https://scontent.cdninstagram.com/l/t51.2885-19/s150x150/12328427_559837920865443_42323166_a.jpg", "id": "446126361", "full_name": "Kate" }, { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" }, { "username": "amanda_leigh78", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849836_392296927630338_809126695_a.jpg", "id": "255202123", "full_name": "Amanda Hammel" }, { "username": "rjt200", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11356808_787672408015876_644928825_a.jpg", "id": "522822837", "full_name": "Roy Taylor" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/11939465_867846576659579_409069286_n.jpg?ig_cache_key=MTExOTYzNTIwMDA3NzYxNDcxNg%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/11939465_867846576659579_409069286_n.jpg?ig_cache_key=MTExOTYzNTIwMDA3NzYxNDcxNg%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/11939465_867846576659579_409069286_n.jpg?ig_cache_key=MTExOTYzNTIwMDA3NzYxNDcxNg%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [], "caption": { "created_time": "1447690938", "text": "Aren't they the cutest! #gbxoxo", "from": { "username": "dianeelizabeth84", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12479226_1722363851320115_1897356622_a.jpg", "id": "186467450", "full_name": "" }, "id": "17853771781007322" }, "type": "image", "id": "1119635200077614716_186467450", "user": { "username": "dianeelizabeth84", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12479226_1722363851320115_1897356622_a.jpg", "id": "186467450", "full_name": "" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": { "latitude": 40.445656423, "name": "Jerome Bettis' Grille 36", "longitude": -80.011624158, "id": 1079602 }, "comments": { "count": 2, "data": [ { "created_time": "1447540784", "text": "@kp7833", "from": { "username": "jeaninedipietro", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11820725_414026868791258_1800730109_a.jpg", "id": "251434204", "full_name": "Jeanine dipietro" }, "id": "17847090574057117" }, { "created_time": "1447549785", "text": "Like your picture", "from": { "username": "gasmer8900", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11906329_960233084022564_1448528159_a.jpg", "id": "2277876884", "full_name": "" }, "id": "17847150439057117" } ] }, "filter": "Normal", "created_time": "1447540693", "link": "https://www.instagram.com/p/-FRABaQbdX/", "likes": { "count": 28, "data": [ { "username": "tessa.winebark", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12918595_1599796383672268_181492363_a.jpg", "id": "469445739", "full_name": "Tessa Winebarküåª" }, { "username": "riley189", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849792_548431198638469_1612410165_a.jpg", "id": "28982097", "full_name": "riley189" }, { "username": "annalouisehorner", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/13266749_1725930420952480_950663148_a.jpg", "id": "206990008", "full_name": "Anna Horner" }, { "username": "jensenmalora", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/11809975_942659709109671_604091817_a.jpg", "id": "274269308", "full_name": "Jensen Constantino" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/11910538_937541342986942_513386766_n.jpg?ig_cache_key=MTExODM3NDg1MDc3NjM4MTI3MQ%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/11910538_937541342986942_513386766_n.jpg?ig_cache_key=MTExODM3NDg1MDc3NjM4MTI3MQ%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/11910538_937541342986942_513386766_n.jpg?ig_cache_key=MTExODM3NDg1MDc3NjM4MTI3MQ%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [ { "position": { "y": 0.484, "x": 0.5426666666666666 }, "user": { "username": "smariefromtn", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11821174_450518671799413_1123992805_a.jpg", "id": "310848755", "full_name": "Sarah Ditmore" } } ], "caption": { "created_time": "1447540693", "text": "#GBXOXO", "from": { "username": "jeaninedipietro", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11820725_414026868791258_1800730109_a.jpg", "id": "251434204", "full_name": "Jeanine dipietro" }, "id": "17852991052057117" }, "type": "image", "id": "1118374850776381271_251434204", "user": { "username": "jeaninedipietro", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11820725_414026868791258_1800730109_a.jpg", "id": "251434204", "full_name": "Jeanine dipietro" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": null, "comments": { "count": 2, "data": [ { "created_time": "1447619580", "text": "So pretty!!", "from": { "username": "seb268", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11374024_113419042338605_1904097621_a.jpg", "id": "182298269", "full_name": "" }, "id": "17847047728062699" }, { "created_time": "1447695866", "text": "Cute couple!", "from": { "username": "djyeargers", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849920_859078527481349_1794192963_a.jpg", "id": "209531768", "full_name": "djyeargers" }, "id": "17847154756062699" } ] }, "filter": "Normal", "created_time": "1447618130", "link": "https://www.instagram.com/p/-HkszcJkwN/", "likes": { "count": 27, "data": [ { "username": "amanda_leigh78", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849836_392296927630338_809126695_a.jpg", "id": "255202123", "full_name": "Amanda Hammel" }, { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" }, { "username": "_gunk_", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12479102_785181464915347_384399476_a.jpg", "id": "967163219", "full_name": "K C Howell" }, { "username": "splevelich", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11359131_1683730005194384_292634335_a.jpg", "id": "6906143", "full_name": "" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/11906305_1670851406524859_101914551_n.jpg?ig_cache_key=MTExOTAyNDQ0MDk4OTMzODYzNw%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/11906305_1670851406524859_101914551_n.jpg?ig_cache_key=MTExOTAyNDQ0MDk4OTMzODYzNw%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/11906305_1670851406524859_101914551_n.jpg?ig_cache_key=MTExOTAyNDQ0MDk4OTMzODYzNw%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [], "caption": { "created_time": "1447618130", "text": "Congrats Barb and Greg! #gbxoxo Wish you all the best!", "from": { "username": "dianeelizabeth84", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12479226_1722363851320115_1897356622_a.jpg", "id": "186467450", "full_name": "" }, "id": "17852038801062699" }, "type": "image", "id": "1119024440989338637_186467450", "user": { "username": "dianeelizabeth84", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12479226_1722363851320115_1897356622_a.jpg", "id": "186467450", "full_name": "" } }, { "attribution": null, "videos": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t50.2886-16/12211792_1678341659045729_1518001139_s.mp4", "width": 480, "height": 480 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t50.2886-16/12052948_889524297828018_1749387411_n.mp4", "width": 640, "height": 640 }, "low_bandwidth": { "url": "https://scontent.cdninstagram.com/t50.2886-16/12211792_1678341659045729_1518001139_s.mp4", "width": 480, "height": 480 } }, "tags": [ "welcomtothefamily", "weddingdress", "wedding", "joy", "gbxoxo", "pghkids" ], "location": { "latitude": 40.45259, "name": "Children's Museum of Pittsburgh", "longitude": -80.00697, "id": 777982 }, "comments": { "count": 1, "data": [ { "created_time": "1447696417", "text": "Anna prayed for them during K4C worship prayer time. She was very sweet. ‚ô°", "from": { "username": "ekerstetter", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11378537_488137814682559_265048286_a.jpg", "id": "55804255", "full_name": "ekerstetter" }, "id": "17846964916004629" } ] }, "filter": "Normal", "created_time": "1447682674", "link": "https://www.instagram.com/p/-JfzwVLFge/", "likes": { "count": 26, "data": [ { "username": "corrie9621", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/1169766_688343041308927_59338745_a.jpg", "id": "1463433899", "full_name": "Corrie Mcbride" }, { "username": "outthenest", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/11330532_398850856972290_578581661_a.jpg", "id": "1976299064", "full_name": "Out The Nest" }, { "username": "rosabetz", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11326001_928645127208967_1791711573_a.jpg", "id": "14621546", "full_name": "cat" }, { "username": "bridebookhq", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/13249897_1753811648206072_1402772984_a.jpg", "id": "1456922566", "full_name": "BRIDEBOOK" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e15/11910536_1664718590477001_2113943493_n.jpg?ig_cache_key=MTExOTU2NTg3ODQwODI3MTkwMg%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e15/11910536_1664718590477001_2113943493_n.jpg?ig_cache_key=MTExOTU2NTg3ODQwODI3MTkwMg%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/e15/11910536_1664718590477001_2113943493_n.jpg?ig_cache_key=MTExOTU2NTg3ODQwODI3MTkwMg%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [], "caption": { "created_time": "1447682674", "text": "#gbxoxo Aren't these two just the best looking couple? Love it! #welcomtothefamily @thenatural18 #pghkids #joy #wedding #weddingdress", "from": { "username": "rjt200", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11356808_787672408015876_644928825_a.jpg", "id": "522822837", "full_name": "Roy Taylor" }, "id": "17852687668004629" }, "type": "video", "id": "1119565878408271902_522822837", "user": { "username": "rjt200", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11356808_787672408015876_644928825_a.jpg", "id": "522822837", "full_name": "Roy Taylor" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": { "latitude": 40.448033046507, "name": "Beerhead Bar Pittsburgh", "longitude": -80.00423856422, "id": 93717676 }, "comments": { "count": 0, "data": [] }, "filter": "Normal", "created_time": "1447539115", "link": "https://www.instagram.com/p/-FN_abwfD2/", "likes": { "count": 30, "data": [ { "username": "brentwinslow93", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11084836_542129785928628_1295601857_a.jpg", "id": "320510200", "full_name": "Brent Winslow" }, { "username": "invest412", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12277482_560249264126801_1990038400_a.jpg", "id": "2166321969", "full_name": "Invest 412" }, { "username": "lydiahoge", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/13267549_243493239361144_1298840936_a.jpg", "id": "198087004", "full_name": "lydiahoge" }, { "username": "hil.mill", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10725047_836544649718588_1095002039_a.jpg", "id": "11900671", "full_name": "" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12237189_903520323034710_276070752_n.jpg?ig_cache_key=MTExODM2MTYxNDc4NjA5NzM5OA%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/12237189_903520323034710_276070752_n.jpg?ig_cache_key=MTExODM2MTYxNDc4NjA5NzM5OA%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/12237189_903520323034710_276070752_n.jpg?ig_cache_key=MTExODM2MTYxNDc4NjA5NzM5OA%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [], "caption": { "created_time": "1447539115", "text": "Celebrating Mrs and Mrs DiPietro with my wedding date #gbxoxo @thenatural18 @bb_271271", "from": { "username": "bradhoge8", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12338920_961977970508286_362853333_a.jpg", "id": "322219219", "full_name": "Brad Hoge" }, "id": "17851733902037659" }, "type": "image", "id": "1118361614786097398_322219219", "user": { "username": "bradhoge8", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12338920_961977970508286_362853333_a.jpg", "id": "322219219", "full_name": "Brad Hoge" } }, { "attribution": null, "tags": [ "gbxoxo", "hitched" ], "location": { "latitude": 40.45433488413, "name": "James Street Gastropub and Speakeasy", "longitude": -80.000971267137, "id": 234675489 }, "comments": { "count": 0, "data": [] }, "filter": "Juno", "created_time": "1447536833", "link": "https://www.instagram.com/p/-FJo5qOx06/", "likes": { "count": 22, "data": [ { "username": "bunit19", "profile_picture": "https://scontent.cdninstagram.com/l/t51.2885-19/s150x150/12144262_1682366728666985_1759565151_a.jpg", "id": "867992679", "full_name": "" }, { "username": "mistylee2985", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12298773_878884138886432_1462431086_a.jpg", "id": "22365768", "full_name": "Misty Lee" }, { "username": "zegnot", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10706832_892045930805446_1560736486_a.jpg", "id": "48403219", "full_name": "" }, { "username": "hayleerm", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10598399_325415750967717_2117600002_a.jpg", "id": "194900998", "full_name": "" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12237404_1643440529264686_1840442511_n.jpg?ig_cache_key=MTExODM0MjQ3NTU4MDkwNjgxMA%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/12237404_1643440529264686_1840442511_n.jpg?ig_cache_key=MTExODM0MjQ3NTU4MDkwNjgxMA%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/12237404_1643440529264686_1840442511_n.jpg?ig_cache_key=MTExODM0MjQ3NTU4MDkwNjgxMA%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [ { "position": { "y": 0.7152778, "x": 0.9097222 }, "user": { "username": "mistylee2985", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12298773_878884138886432_1462431086_a.jpg", "id": "22365768", "full_name": "Misty Lee" } }, { "position": { "y": 0.4409722, "x": 0.71597224 }, "user": { "username": "rymorgan10", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12394071_459722077566397_863675427_a.jpg", "id": "26932903", "full_name": "Ryan Morgan" } }, { "position": { "y": 0.32728145, "x": 0.31666666 }, "user": { "username": "kriselew", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/13118237_1710618779176441_2101212347_a.jpg", "id": "44614234", "full_name": "Kristen E. Lewandowski" } }, { "position": { "y": 0.4652778, "x": 0.79930556 }, "user": { "username": "haleyvolzer", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12547198_1655288161403538_942602295_a.jpg", "id": "192041020", "full_name": "Haley Volzer" } }, { "position": { "y": 0.37013888, "x": 0.34305555 }, "user": { "username": "hayleerm", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10598399_325415750967717_2117600002_a.jpg", "id": "194900998", "full_name": "" } }, { "position": { "y": 0.51944447, "x": 0.3125 }, "user": { "username": "riiisshhiiiii", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11856722_541443802674203_1111337777_a.jpg", "id": "313152709", "full_name": "riiisshhiiiii" } }, { "position": { "y": 0.5861111, "x": 0.07986111 }, "user": { "username": "alexartayet", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11428690_1005059392857748_1362321131_a.jpg", "id": "598435772", "full_name": "AlexArtayet" } }, { "position": { "y": 0.23125002, "x": 0.57569444 }, "user": { "username": "mikejlew", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11230337_421432568018260_470661794_a.jpg", "id": "2086873385", "full_name": "Michael Lewandowski" } } ], "caption": { "created_time": "1447536833", "text": "Pre-gaming the reception. Get pumped for some sickkkkk moves. #gbxoxo #hitched", "from": { "username": "patmeares", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11375804_131505200523935_1973884485_a.jpg", "id": "41658782", "full_name": "Josh Miller" }, "id": "17852647087058478" }, "type": "image", "id": "1118342475580906810_41658782", "user": { "username": "patmeares", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11375804_131505200523935_1973884485_a.jpg", "id": "41658782", "full_name": "Josh Miller" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": { "latitude": 40.45259, "name": "Children's Museum of Pittsburgh", "longitude": -80.00697, "id": 777982 }, "comments": { "count": 0, "data": [] }, "filter": "Normal", "created_time": "1447561311", "link": "https://www.instagram.com/p/-F4U7nuw5V/", "likes": { "count": 67, "data": [ { "username": "cmarkward", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10727402_825751734146674_890226398_a.jpg", "id": "46240084", "full_name": "Cara Markwardüåª" }, { "username": "lydiahoge", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/13267549_243493239361144_1298840936_a.jpg", "id": "198087004", "full_name": "lydiahoge" }, { "username": "heathergracethomas", "profile_picture": "https://scontent.cdninstagram.com/l/t51.2885-19/10413271_652231648195481_750034712_a.jpg", "id": "33402344", "full_name": "Heather Grace Thomas" }, { "username": "big_hoov", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12728594_925863344194487_2061111088_a.jpg", "id": "55371261", "full_name": "Mike Hoover" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12237035_1638284979792527_737477731_n.jpg?ig_cache_key=MTExODU0NzgxMTQ4MjkzMDc3Mw%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/12237035_1638284979792527_737477731_n.jpg?ig_cache_key=MTExODU0NzgxMTQ4MjkzMDc3Mw%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/12237035_1638284979792527_737477731_n.jpg?ig_cache_key=MTExODU0NzgxMTQ4MjkzMDc3Mw%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [ { "position": { "y": 0.8053333333333333, "x": 0.3933333333333333 }, "user": { "username": "breannalynn007", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/13113880_241787412847396_2134874115_a.jpg", "id": "145418519", "full_name": "Breanna Lynn" } } ], "caption": { "created_time": "1447561311", "text": "We love weddings #GBXOXO", "from": { "username": "tylerhoge", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/13129191_1003521803016977_508849968_a.jpg", "id": "339928778", "full_name": "Tyler" }, "id": "17850253600009287" }, "type": "image", "id": "1118547811482930773_339928778", "user": { "username": "tylerhoge", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/13129191_1003521803016977_508849968_a.jpg", "id": "339928778", "full_name": "Tyler" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": null, "comments": { "count": 0, "data": [] }, "filter": "Lark", "created_time": "1447559367", "link": "https://www.instagram.com/p/-F0njcux3F/", "likes": { "count": 13, "data": [ { "username": "rymorgan10", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12394071_459722077566397_863675427_a.jpg", "id": "26932903", "full_name": "Ryan Morgan" }, { "username": "bunit19", "profile_picture": "https://scontent.cdninstagram.com/l/t51.2885-19/s150x150/12144262_1682366728666985_1759565151_a.jpg", "id": "867992679", "full_name": "" }, { "username": "jathomas724", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11375344_708966425870512_1104292269_a.jpg", "id": "1262109718", "full_name": "Jimmy Thomas" }, { "username": "mistylee2985", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12298773_878884138886432_1462431086_a.jpg", "id": "22365768", "full_name": "Misty Lee" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12237101_452501978288749_238697053_n.jpg?ig_cache_key=MTExODUzMTQ5OTAxMjU5NTE0MQ%3D%3D.2.l", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/c0.3.1080.1080/12237338_715455248555750_1590227301_n.jpg?ig_cache_key=MTExODUzMTQ5OTAxMjU5NTE0MQ%3D%3D.2.c", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/12237101_452501978288749_238697053_n.jpg?ig_cache_key=MTExODUzMTQ5OTAxMjU5NTE0MQ%3D%3D.2.l", "width": 640, "height": 640 } }, "users_in_photo": [], "caption": { "created_time": "1447559367", "text": "Bout to get assaulted. #gbxoxo", "from": { "username": "patmeares", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11375804_131505200523935_1973884485_a.jpg", "id": "41658782", "full_name": "Josh Miller" }, "id": "17852659822021858" }, "type": "image", "id": "1118531499012595141_41658782", "user": { "username": "patmeares", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11375804_131505200523935_1973884485_a.jpg", "id": "41658782", "full_name": "Josh Miller" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": null, "comments": { "count": 0, "data": [] }, "filter": "Normal", "created_time": "1447545450", "link": "https://www.instagram.com/p/-FaEu8h_7V/", "likes": { "count": 5, "data": [ { "username": "bb_271271", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11374016_988085747880703_164290729_a.jpg", "id": "146153005", "full_name": "" }, { "username": "splevelich", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11359131_1683730005194384_292634335_a.jpg", "id": "6906143", "full_name": "" }, { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" }, { "username": "embish30", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10401771_287322858101976_580384517_a.jpg", "id": "12870456", "full_name": "Emily Bishop" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12063072_929127130511059_1606727293_n.jpg?ig_cache_key=MTExODQxNDc1Njk2NjMwMTM5Nw%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/12063072_929127130511059_1606727293_n.jpg?ig_cache_key=MTExODQxNDc1Njk2NjMwMTM5Nw%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/12063072_929127130511059_1606727293_n.jpg?ig_cache_key=MTExODQxNDc1Njk2NjMwMTM5Nw%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [], "caption": { "created_time": "1447545450", "text": "Happy wedding day @thenatural18 and Barb! #gbxoxo", "from": { "username": "natronemeans10", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11189625_447871155362379_51320766_a.jpg", "id": "2101635510", "full_name": "Nate G." }, "id": "17849576380015594" }, "type": "image", "id": "1118414756966301397_2101635510", "user": { "username": "natronemeans10", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11189625_447871155362379_51320766_a.jpg", "id": "2101635510", "full_name": "Nate G." } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": null, "comments": { "count": 0, "data": [] }, "filter": "Ludwig", "created_time": "1447559439", "link": "https://www.instagram.com/p/-F0wdOux3V/", "likes": { "count": 19, "data": [ { "username": "bluedog5555", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11240450_361419247383457_881561142_a.jpg", "id": "538564346", "full_name": "Laura" }, { "username": "bunit19", "profile_picture": "https://scontent.cdninstagram.com/l/t51.2885-19/s150x150/12144262_1682366728666985_1759565151_a.jpg", "id": "867992679", "full_name": "" }, { "username": "jathomas724", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11375344_708966425870512_1104292269_a.jpg", "id": "1262109718", "full_name": "Jimmy Thomas" }, { "username": "mistylee2985", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12298773_878884138886432_1462431086_a.jpg", "id": "22365768", "full_name": "Misty Lee" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12237397_1641726519422033_1292964295_n.jpg?ig_cache_key=MTExODUzMjExMDgxMDU1MzgxMw%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/12237397_1641726519422033_1292964295_n.jpg?ig_cache_key=MTExODUzMjExMDgxMDU1MzgxMw%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/12237397_1641726519422033_1292964295_n.jpg?ig_cache_key=MTExODUzMjExMDgxMDU1MzgxMw%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [], "caption": { "created_time": "1447559439", "text": "Brothers #gbxoxo", "from": { "username": "patmeares", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11375804_131505200523935_1973884485_a.jpg", "id": "41658782", "full_name": "Josh Miller" }, "id": "17851503541005603" }, "type": "image", "id": "1118532110810553813_41658782", "user": { "username": "patmeares", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11375804_131505200523935_1973884485_a.jpg", "id": "41658782", "full_name": "Josh Miller" } }, { "attribution": null, "tags": [ "bestman", "flowergirl", "gbxoxo" ], "location": null, "comments": { "count": 1, "data": [ { "created_time": "1447599315", "text": "Thanks so much for being so sweet w Anna, she had a lot of fun w you guys üòÄ", "from": { "username": "carolyn_s_taylor", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11372284_1596506407279529_1277995739_a.jpg", "id": "184820180", "full_name": "carolyn taylor" }, "id": "17846434717001139" } ] }, "filter": "Valencia", "created_time": "1447465180", "link": "https://www.instagram.com/p/-DA-JIjAb9/", "likes": { "count": 22, "data": [ { "username": "bunit19", "profile_picture": "https://scontent.cdninstagram.com/l/t51.2885-19/s150x150/12144262_1682366728666985_1759565151_a.jpg", "id": "867992679", "full_name": "" }, { "username": "splevelich", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11359131_1683730005194384_292634335_a.jpg", "id": "6906143", "full_name": "" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12256669_1027972477222775_1807028959_n.jpg?ig_cache_key=MTExNzc0MTQwMjkzMjY0MzU4MQ%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/12256669_1027972477222775_1807028959_n.jpg?ig_cache_key=MTExNzc0MTQwMjkzMjY0MzU4MQ%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/12256669_1027972477222775_1807028959_n.jpg?ig_cache_key=MTExNzc0MTQwMjkzMjY0MzU4MQ%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [], "caption": { "created_time": "1447465180", "text": "Anna drew Cory wearing a ballerina tutu, princess shoes and vampire fangs. It was lovely. #bestman #flowergirl #gbxoxo", "from": { "username": "mistylee2985", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12298773_878884138886432_1462431086_a.jpg", "id": "22365768", "full_name": "Misty Lee" }, "id": "17850353566001139" }, "type": "image", "id": "1117741402932643581_22365768", "user": { "username": "mistylee2985", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12298773_878884138886432_1462431086_a.jpg", "id": "22365768", "full_name": "Misty Lee" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": null, "comments": { "count": 0, "data": [] }, "filter": "Normal", "created_time": "1447533730", "link": "https://www.instagram.com/p/-FDuFsv2jf/", "likes": { "count": 18, "data": [ { "username": "alicia_frailey", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11313754_439040412949677_1224263146_a.jpg", "id": "6235781", "full_name": "Alicia Frailey" }, { "username": "brittb818", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/10616783_207572049587793_1423035315_a.jpg", "id": "25334032", "full_name": "brittb818" }, { "username": "kpacker712", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11410347_515966531898522_1428498073_a.jpg", "id": "177867996", "full_name": "" }, { "username": "lmc5013", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11371147_831895093561045_1715521137_a.jpg", "id": "31723646", "full_name": "LC‚û°Ô∏èLP" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/11909186_187792318227891_2102829858_n.jpg?ig_cache_key=MTExODMxNjQ0MzgyNjM1MDMwMw%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/11909186_187792318227891_2102829858_n.jpg?ig_cache_key=MTExODMxNjQ0MzgyNjM1MDMwMw%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/11909186_187792318227891_2102829858_n.jpg?ig_cache_key=MTExODMxNjQ0MzgyNjM1MDMwMw%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [ { "position": { "y": 0.5133333333333333, "x": 0.4773333333333333 }, "user": { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" } }, { "position": { "y": 0.5333333333333333, "x": 0.26 }, "user": { "username": "bb_271271", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11374016_988085747880703_164290729_a.jpg", "id": "146153005", "full_name": "" } } ], "caption": { "created_time": "1447533730", "text": "üòç‚ù§Ô∏è let the celebration begin!! #gbxoxo", "from": { "username": "thechicteach", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10809011_391162217715851_1704039428_a.jpg", "id": "1555814057", "full_name": "Ashley" }, "id": "17852876530042048" }, "type": "image", "id": "1118316443826350303_1555814057", "user": { "username": "thechicteach", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10809011_391162217715851_1704039428_a.jpg", "id": "1555814057", "full_name": "Ashley" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": { "latitude": 40.4414, "name": "Pittsburgh, Pennsylvania", "longitude": -79.9773, "id": 213470852 }, "comments": { "count": 1, "data": [ { "created_time": "1447632505", "text": "Thanks for helping us out with that Justin!!@rjt200", "from": { "username": "lindawhoge", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11326132_743364559103198_160417566_a.jpg", "id": "341574717", "full_name": "Linda Hoge" }, "id": "17845625557031015" } ] }, "filter": "Normal", "created_time": "1447620086", "link": "https://www.instagram.com/p/-Hobk3rFv7/", "likes": { "count": 9, "data": [ { "username": "bb_271271", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11374016_988085747880703_164290729_a.jpg", "id": "146153005", "full_name": "" }, { "username": "jamickle", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11265079_714432865329780_553632387_a.jpg", "id": "191511762", "full_name": "" }, { "username": "invest412", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12277482_560249264126801_1990038400_a.jpg", "id": "2166321969", "full_name": "Invest 412" }, { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12269834_1487989571508202_249414634_n.jpg?ig_cache_key=MTExOTA0MDg0OTI5OTkyMTkxNQ%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/12269834_1487989571508202_249414634_n.jpg?ig_cache_key=MTExOTA0MDg0OTI5OTkyMTkxNQ%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/12269834_1487989571508202_249414634_n.jpg?ig_cache_key=MTExOTA0MDg0OTI5OTkyMTkxNQ%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [], "caption": { "created_time": "1447620086", "text": "#gbxoxo for those of you who do not tweet.", "from": { "username": "rjt200", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11356808_787672408015876_644928825_a.jpg", "id": "522822837", "full_name": "Roy Taylor" }, "id": "17850430891031015" }, "type": "image", "id": "1119040849299921915_522822837", "user": { "username": "rjt200", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11356808_787672408015876_644928825_a.jpg", "id": "522822837", "full_name": "Roy Taylor" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": null, "comments": { "count": 0, "data": [] }, "filter": "Normal", "created_time": "1447568136", "link": "https://www.instagram.com/p/-GFWBvkqxP/", "likes": { "count": 8, "data": [ { "username": "bunit19", "profile_picture": "https://scontent.cdninstagram.com/l/t51.2885-19/s150x150/12144262_1682366728666985_1759565151_a.jpg", "id": "867992679", "full_name": "" }, { "username": "splevelich", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11359131_1683730005194384_292634335_a.jpg", "id": "6906143", "full_name": "" }, { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" }, { "username": "bluedog5555", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11240450_361419247383457_881561142_a.jpg", "id": "538564346", "full_name": "Laura" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12230817_911025498933342_1738914009_n.jpg?ig_cache_key=MTExODYwNTA2MTM4MTA3Mzk5OQ%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/12230817_911025498933342_1738914009_n.jpg?ig_cache_key=MTExODYwNTA2MTM4MTA3Mzk5OQ%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/e35/12230817_911025498933342_1738914009_n.jpg?ig_cache_key=MTExODYwNTA2MTM4MTA3Mzk5OQ%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [ { "position": { "y": 0.18125, "x": 0.1 }, "user": { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" } } ], "caption": { "created_time": "1447568136", "text": "Cutting the cake at the best wedding of 2015. #gbxoxo", "from": { "username": "nastella24", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11376096_685016064960307_1850292771_a.jpg", "id": "614631194", "full_name": "Nick Stelitano" }, "id": "17848868842031991" }, "type": "image", "id": "1118605061381073999_614631194", "user": { "username": "nastella24", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11376096_685016064960307_1850292771_a.jpg", "id": "614631194", "full_name": "Nick Stelitano" } }, { "attribution": null, "tags": [ "weddingtime", "gbxoxo", "pittsburghbound" ], "location": { "latitude": 40.758186301902, "name": "Amtrak NYC Penn Station", "longitude": -74.028275927007, "id": 238338602 }, "comments": { "count": 1, "data": [ { "created_time": "1447384064", "text": "Hell yea! Safe travels!", "from": { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" }, "id": "17845570045040886" } ] }, "filter": "Lark", "created_time": "1447381562", "link": "https://www.instagram.com/p/-Ahe9JLWN7/", "likes": { "count": 17, "data": [ { "username": "racov", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/11909163_1650550701883031_1432712863_a.jpg", "id": "16556596", "full_name": "Veronica Raco" }, { "username": "greatdanebakingco", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12918631_1775116159387939_532410062_a.jpg", "id": "194592595", "full_name": "Great Dane Baking Co" }, { "username": "cmgordon10", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11334640_465769873588744_2008683880_a.jpg", "id": "188946903", "full_name": "candace" }, { "username": "welli18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/927977_480029238797472_335853237_a.jpg", "id": "266061413", "full_name": "Noelle Marie" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/11421997_920190164718432_588678435_n.jpg?ig_cache_key=MTExNzAzOTk3MDM1OTI3MjMxNQ%3D%3D.2.l", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/c65.0.558.558/11351763_951205194939293_1991453647_n.jpg?ig_cache_key=MTExNzAzOTk3MDM1OTI3MjMxNQ%3D%3D.2.c", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/11421997_920190164718432_588678435_n.jpg?ig_cache_key=MTExNzAzOTk3MDM1OTI3MjMxNQ%3D%3D.2.l", "width": 640, "height": 640 } }, "users_in_photo": [], "caption": { "created_time": "1447381562", "text": "Escaping Jets and Rangers colors for some black and gold vibes #pittsburghbound #weddingtime #gbxoxo", "from": { "username": "rymorgan10", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12394071_459722077566397_863675427_a.jpg", "id": "26932903", "full_name": "Ryan Morgan" }, "id": "17849786974040886" }, "type": "image", "id": "1117039970359272315_26932903", "user": { "username": "rymorgan10", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12394071_459722077566397_863675427_a.jpg", "id": "26932903", "full_name": "Ryan Morgan" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": { "latitude": 40.4667, "name": "Herrs Island", "longitude": -79.975, "id": 845853625 }, "comments": { "count": 5, "data": [ { "created_time": "1447565554", "text": "Stunning!!!üòç", "from": { "username": "lindawhoge", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11326132_743364559103198_160417566_a.jpg", "id": "341574717", "full_name": "Linda Hoge" }, "id": "17844305344071132" }, { "created_time": "1447567278", "text": "My sister is beautiful üòò", "from": { "username": "kate_0708", "profile_picture": "https://scontent.cdninstagram.com/l/t51.2885-19/s150x150/12328427_559837920865443_42323166_a.jpg", "id": "446126361", "full_name": "Kate" }, "id": "17844306676071132" }, { "created_time": "1447593626", "text": "Amazing! What a gorgeous bride!", "from": { "username": "italiandish5", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11330637_1477151455938374_971177658_a.jpg", "id": "35527460", "full_name": "" }, "id": "17844328060071132" }, { "created_time": "1447608482", "text": "Beautiful @bb_271271", "from": { "username": "nicoken28", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/928620_323382171144688_1535660448_a.jpg", "id": "1430832946", "full_name": "" }, "id": "17844341668071132" } ] }, "filter": "Ludwig", "created_time": "1447540249", "link": "https://www.instagram.com/p/-FQJ7NvV_7/", "likes": { "count": 52, "data": [ { "username": "jdc17fcd", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10431898_295885920578166_1260590573_a.jpg", "id": "582532", "full_name": "Jordan Colbourn" }, { "username": "jathomas724", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11375344_708966425870512_1104292269_a.jpg", "id": "1262109718", "full_name": "Jimmy Thomas" }, { "username": "bluedog5555", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11240450_361419247383457_881561142_a.jpg", "id": "538564346", "full_name": "Laura" }, { "username": "dadelaini", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11821205_148460995490851_436188901_a.jpg", "id": "315917742", "full_name": "dadelaini" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/11909425_764864386972631_1712664989_n.jpg?ig_cache_key=MTExODM3MTEzMzI3MjE4Njg3NQ%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/11909425_764864386972631_1712664989_n.jpg?ig_cache_key=MTExODM3MTEzMzI3MjE4Njg3NQ%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/11909425_764864386972631_1712664989_n.jpg?ig_cache_key=MTExODM3MTEzMzI3MjE4Njg3NQ%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [ { "position": { "y": 0.4078125, "x": 0.3046875 }, "user": { "username": "bb_271271", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11374016_988085747880703_164290729_a.jpg", "id": "146153005", "full_name": "" } } ], "caption": { "created_time": "1447540249", "text": "My wife felt right at home in the tall grass. #gbxoxo", "from": { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" }, "id": "17845761793071132" }, "type": "image", "id": "1118371133272186875_34073926", "user": { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": { "latitude": 40.4523, "name": "Penn Avenue Fish Company", "longitude": -79.98181, "id": 841092 }, "comments": { "count": 0, "data": [] }, "filter": "Lark", "created_time": "1447467281", "link": "https://www.instagram.com/p/-DE-plPV_b/", "likes": { "count": 22, "data": [ { "username": "hillabeans_", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12797810_938858769517213_721672873_a.jpg", "id": "207816543", "full_name": "Hillary Godula" }, { "username": "etruxal", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10919731_761936233889452_1981834554_a.jpg", "id": "188496134", "full_name": "Erin Truxal" }, { "username": "bunit19", "profile_picture": "https://scontent.cdninstagram.com/l/t51.2885-19/s150x150/12144262_1682366728666985_1759565151_a.jpg", "id": "867992679", "full_name": "" }, { "username": "splevelich", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11359131_1683730005194384_292634335_a.jpg", "id": "6906143", "full_name": "" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12237150_942925529129839_458437372_n.jpg?ig_cache_key=MTExNzc1OTAyOTk1OTgxMTAzNQ%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/12237150_942925529129839_458437372_n.jpg?ig_cache_key=MTExNzc1OTAyOTk1OTgxMTAzNQ%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/12237150_942925529129839_458437372_n.jpg?ig_cache_key=MTExNzc1OTAyOTk1OTgxMTAzNQ%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [ { "position": { "y": 0.5046875, "x": 0.24375 }, "user": { "username": "jdc17fcd", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10431898_295885920578166_1260590573_a.jpg", "id": "582532", "full_name": "Jordan Colbourn" } }, { "position": { "y": 0.328125, "x": 0.8125 }, "user": { "username": "splevelich", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11359131_1683730005194384_292634335_a.jpg", "id": "6906143", "full_name": "" } }, { "position": { "y": 0.3484375, "x": 0.4140625 }, "user": { "username": "etruxal", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/10919731_761936233889452_1981834554_a.jpg", "id": "188496134", "full_name": "Erin Truxal" } }, { "position": { "y": 0.375, "x": 0.1828125 }, "user": { "username": "bluedog5555", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11240450_361419247383457_881561142_a.jpg", "id": "538564346", "full_name": "Laura" } }, { "position": { "y": 0.5890625, "x": 0.8671875 }, "user": { "username": "nastella24", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11376096_685016064960307_1850292771_a.jpg", "id": "614631194", "full_name": "Nick Stelitano" } }, { "position": { "y": 0.2859375, "x": 0.5609375 }, "user": { "username": "bunit19", "profile_picture": "https://scontent.cdninstagram.com/l/t51.2885-19/s150x150/12144262_1682366728666985_1759565151_a.jpg", "id": "867992679", "full_name": "" } } ], "caption": { "created_time": "1447467281", "text": "Mistakes are out of the way. Ready for the real deal. #gbxoxo", "from": { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" }, "id": "17845558471066311" }, "type": "image", "id": "1117759029959811035_34073926", "user": { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" } }, { "attribution": null, "tags": [ "gbxoxo" ], "location": { "name": "Pittsburgh Penguins vs. Montreal Canadiens" }, "comments": { "count": 1, "data": [ { "created_time": "1447290830", "text": "#gbxoxo", "from": { "username": "rjt200", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11356808_787672408015876_644928825_a.jpg", "id": "522822837", "full_name": "Roy Taylor" }, "id": "17843804392069971" } ] }, "filter": "Normal", "created_time": "1447290622", "link": "https://www.instagram.com/p/990BxYrFm3/", "likes": { "count": 12, "data": [ { "username": "gina.duncan", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12912760_999760170114088_1144357579_a.jpg", "id": "2268641631", "full_name": "" }, { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" }, { "username": "brennah_simpson", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/13181230_1621852744804421_1053800666_a.jpg", "id": "343350593", "full_name": "Brennah" }, { "username": "carlamichelle0521", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/13256922_539764372874821_283061299_a.jpg", "id": "201958007", "full_name": "Carla Terrett H üíï" } ] }, "images": { "low_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s320x320/e35/12071080_1685462261691434_1096864655_n.jpg?ig_cache_key=MTExNjI3NzEwMjgyMzEwMjkwMw%3D%3D.2", "width": 320, "height": 320 }, "thumbnail": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s150x150/e35/12071080_1685462261691434_1096864655_n.jpg?ig_cache_key=MTExNjI3NzEwMjgyMzEwMjkwMw%3D%3D.2", "width": 150, "height": 150 }, "standard_resolution": { "url": "https://scontent.cdninstagram.com/t51.2885-15/s640x640/sh0.08/e35/12071080_1685462261691434_1096864655_n.jpg?ig_cache_key=MTExNjI3NzEwMjgyMzEwMjkwMw%3D%3D.2", "width": 640, "height": 640 } }, "users_in_photo": [ { "position": { "y": 0.8, "x": 0.6 }, "user": { "username": "thenatural18", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11849796_1011155938907050_642569176_a.jpg", "id": "34073926", "full_name": "Greg" } }, { "position": { "y": 0.8173333333333334, "x": 0.1613333333333333 }, "user": { "username": "bb_271271", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11374016_988085747880703_164290729_a.jpg", "id": "146153005", "full_name": "" } } ], "caption": { "created_time": "1447290622", "text": "Starting wedding weekend off right with Hil!", "from": { "username": "rjt200", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11356808_787672408015876_644928825_a.jpg", "id": "522822837", "full_name": "Roy Taylor" }, "id": "17845400551069971" }, "type": "image", "id": "1116277102823102903_522822837", "user": { "username": "rjt200", "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/11356808_787672408015876_644928825_a.jpg", "id": "522822837", "full_name": "Roy Taylor" } } ]
    */
    
    //App Logic
    function getPictures (hashtag) {
      vm.hashtag = hashtag = hashtag.replace(/[\. #,@%:$]+/g, '');
      instagramAPI.fetchHashtag(hashtag, function (resp) {
        console.log(resp);
        vm.data = resp.data;
      });
    }

    function removePicture (image) {
      var i = vm.data.indexOf(image);
      console.log(i);
      if(i != -1) {
        vm.data.splice(i, 1);
      }
    }

    function downloadAllImages(images) {
      var zip = new JSZip();
      var urls = images.map(function(image) {
        return image.url;
      }, 0);
      var waiting = urls.length;
      for (var i = 0; i < urls.length; i++) {
        convertImgToDataURLviaCanvas(urls[i], i, finish);
      }
      function finish() {
        waiting--;
        if (waiting === 0) {
          saveZip();
        }
      }
      function saveZip() {
        var blob = zip.generate({type:'blob'});
        saveAs(blob, vm.hashtag + '.zip');
      }
      function convertImgToDataURLviaCanvas(url, count, callback) {
        var canvas = document.createElement('canvas');
        var context = canvas.getContext('2d');
        var img = new Image();
        img.crossOrigin = 'Anonymous';
        img.onload = function() {
          var canvas = document.createElement('canvas');
          var ctx = canvas.getContext('2d');
          var dataURL;
          canvas.height = this.height;
          canvas.width = this.width;
          ctx.drawImage(this, 0, 0);
          dataURL = canvas.toDataURL();
          dataURL = dataURL.replace(/^data:image\/(png|jpg);base64,/, '');
          zip.file('image_' + count + '.jpg', dataURL, {base64: true});
          canvas = null;
          callback();
        };
        img.src = url;
      }
    }

    function saveCollage (data) {
      console.log(data);
    }
  }
})();